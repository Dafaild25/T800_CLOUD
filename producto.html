<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
</head>
<body>
    <h1>FORMULARIOD EPRODUCTOS</h1>
    <br>
    <hr>
    <main>
        <nav>
            <ul>
                <li> <a href="index.html">index</a></li>
                <li> <a href="pagina2.html">pagina 2</a></li>
                <li><a href="pagina3.html">pagina3</a></li>
                <li><a href="david.html">DAVID</a></li>
                <li><a href="xavier.html">Xavier</a></li>
                <li><a href="producto.html">Productos</a></li>
            </ul>
        </nav>


        <br>
        <form id="atrapaProductos">
            <input type="text" id="lbnombre" placeholder="nombre del producto">
            <input type="text" id="lbprecio" placeholder="precio del producto">
            <input type="text" id="lbcodigo" placeholder="codigo de producto">
            <button type="submit">AGREGAR</button>
        </form>
    </main>   
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    // para conectarse al base de datos de firebase
    import{getFirestore, collection,addDoc,onSnapshot,deleteDoc,Doc}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCUhULQjv2KDEWRI4KefyOjSkPYt0Lxp1Y",
      authDomain: "cliente-c79f4.firebaseapp.com",
      projectId: "cliente-c79f4",
      storageBucket: "cliente-c79f4.appspot.com",
      messagingSenderId: "468479738698",
      appId: "1:468479738698:web:077179cde92dbcaeb977b3"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    // conecta a la bdd
    const dbdavid = getFirestore(app);


    // declarar variable
    const productForm = document.getElementById(atrapaProductos);

    // llamar al elemento que haga una accion
    productForm.addEventListener("submit",async(e)=>{
        e.preventDefault();
        await addDoc(collection(dbdavid,"producto"),{
            nombre:productForm.lbnombre.value,
            precio: productForm.lbprecio.value,
            
        });
        productForm.reset();
    
    });
  </script>


</html>